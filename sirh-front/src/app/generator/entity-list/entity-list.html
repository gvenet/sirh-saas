<div class="page-wrapper">
  <nav class="page-nav">
    <div class="nav-content">
      <div class="nav-left">
        <a routerLink="/dashboard" class="nav-back">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
          </svg>
          Dashboard
        </a>
        <h1>Entity Management</h1>
      </div>
      <div class="nav-right">
        <button class="nav-link" (click)="createNewEntity()">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
          </svg>
          New Entity
        </button>
      </div>
    </div>
  </nav>

  <div class="entity-list-container">

  <div class="alert alert-error" *ngIf="error">
    {{ error }}
  </div>

  <div class="loading" *ngIf="loading">Loading entities...</div>

  <div class="empty-state" *ngIf="!loading && entities.length === 0">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
      <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
    </svg>
    <h3>No entities yet</h3>
    <p>Start by creating your first entity</p>
    <button class="btn btn-primary" (click)="createNewEntity()">Create Entity</button>
  </div>

  <div class="entities-grid" *ngIf="!loading && entities.length > 0">
    <div class="entity-card" *ngFor="let entity of entities; trackBy: trackByName">
      <div class="entity-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"/>
        </svg>
      </div>
      <div class="entity-info">
        <h3>{{ entity.name }}</h3>
        <p class="module-name">Module: {{ entity.moduleName }}</p>
        <p class="path">{{ entity.path }}</p>
      </div>
      <div class="entity-actions">
        <button class="btn-icon btn-edit" (click)="editEntity(entity.name)" title="Edit">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
          </svg>
        </button>
        <button class="btn-icon btn-delete" (click)="deleteEntity(entity.name)" title="Delete">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
  </div>
</div>
